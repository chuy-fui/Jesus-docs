<h1>ðŸŽ¶ The Magic of Disney Music ðŸŽ¬</h1>

<div id="game" style="font-family: 'Poppins', sans-serif; max-width: 750px; margin: auto; text-align: center; background-color: #fffafc; padding: 25px; border-radius: 15px; box-shadow: 0 4px 15px rgba(0,0,0,0.15);">
  <p id="question" style="font-size: 1.3em; font-weight: 600;"></p>
  <audio id="audio" controls style="margin-top: 15px; display: none;"></audio>
  <div id="options"></div>
  <textarea id="reflection" placeholder="Write your reflection here..." style="display: none; margin-top: 10px; width: 90%; height: 70px; padding: 8px; border-radius: 8px; border: 1px solid #aaa;"></textarea>
  <button id="submitReflection" style="display: none; margin-top: 10px; padding: 8px 20px; border: none; border-radius: 8px; background-color: #0078D7; color: white; cursor: pointer;">Submit</button>
  <p id="result" style="font-size: 1.1em; margin-top: 15px;"></p>
  <button onclick="nextQuestion()" id="nextBtn" style="margin-top: 20px; padding: 10px 20px; border: none; border-radius: 8px; background-color: #FF5A5F; color: white; cursor: pointer;">Next</button>
</div>

<script>
const questions = [
  {
    type: "info",
    question: "âœ¨ Welcome to *The Magic of Disney Music!* \n\nEach song in Disney films carries emotion, values, and story â€” more than just melody, itâ€™s storytelling through music. Letâ€™s explore together!",
  },
  {
    type: "audio",
    question: "ðŸŽ§ Listen to this short melody and think â€” what emotion do you feel? (Happiness, fear, love, hope?)",
    audio: "https://cdn.pixabay.com/download/audio/2022/03/15/audio_3bbabf8a7b.mp3?filename=disney_sample.mp3", // replace with your own
    reflection: true
  },
  {
    type: "choice",
    question: "ðŸŽ¤ Why are songs like 'Let It Go' or 'How Far Iâ€™ll Go' so important in Disney movies?",
    options: [
      "Because they fill time in the movie",
      "Because they express the characterâ€™s feelings and growth",
      "Because every Disney movie must have music",
      "Because they make the soundtrack longer"
    ],
    correct: 1
  },
  {
    type: "fill",
    question: "ðŸŽ¶ Complete this idea: Songs in Disney movies often teach children about ______.",
    answer: "dreams"
  },
  {
    type: "reflect",
    question: "ðŸ’« Think about 'Hakuna Matata' or 'Under the Sea'. What message do these songs give about life or happiness?",
  },
  {
    type: "choice",
    question: "ðŸŽµ Which of these songs represents courage and self-discovery?",
    options: ["Circle of Life", "Be Our Guest", "Reflection", "Youâ€™ve Got a Friend in Me"],
    correct: 2
  },
  {
    type: "reflect",
    question: "ðŸŒˆ How do you think music helps people connect emotionally to Disney stories?",
  },
  {
    type: "audio",
    question: "ðŸŽ§ Listen and describe what you imagine when you hear this melody:",
    audio: "https://cdn.pixabay.com/download/audio/2022/03/15/audio_4aeb20b8ab.mp3?filename=disney_theme.mp3",
    reflection: true
  },
  {
    type: "info",
    question: "ðŸŽ¬ Music in Disney is not just background â€” itâ€™s a character itself. It gives voice to emotions words canâ€™t express.",
  },
  {
    type: "reflect",
    question: "ðŸ’­ Final reflection: What is *your* favorite Disney song, and why do you think it connects with people so deeply?",
  }
];

let index = 0;
let score = 0;

function showQuestion() {
  const q = questions[index];
  const qEl = document.getElementById("question");
  const optionsDiv = document.getElementById("options");
  const audio = document.getElementById("audio");
  const reflection = document.getElementById("reflection");
  const submitRef = document.getElementById("submitReflection");
  const result = document.getElementById("result");

  qEl.innerText = q.question;
  optionsDiv.innerHTML = "";
  audio.style.display = "none";
  reflection.style.display = "none";
  submitRef.style.display = "none";
  result.innerText = "";

  // informational type
  if (q.type === "info") {
    result.innerHTML = "ðŸ’¡ Click 'Next' to continue!";
  }

  // multiple choice
  if (q.type === "choice") {
    q.options.forEach((op, i) => {
      const btn = document.createElement("button");
      btn.innerText = op;
      btn.style.margin = "8px";
      btn.style.padding = "8px 15px";
      btn.style.border = "1px solid #888";
      btn.style.borderRadius = "8px";
      btn.style.backgroundColor = "#f9f9f9";
      btn.style.cursor = "pointer";
      btn.onmouseover = () => btn.style.backgroundColor = "#e0f7fa";
      btn.onmouseout = () => btn.style.backgroundColor = "#f9f9f9";
      btn.onclick = () => checkAnswer(i);
      optionsDiv.appendChild(btn);
    });
  }

  // fill in the blank
  if (q.type === "fill") {
    const input = document.createElement("input");
    input.type = "text";
    input.placeholder = "Type your answer here...";
    input.style.marginTop = "10px";
    input.style.padding = "8px";
    input.style.borderRadius = "8px";
    input.style.border = "1px solid #aaa";
    input.style.width = "80%";
    const button = document.createElement("button");
    button.innerText = "Submit";
    button.style.marginTop = "10px";
    button.style.padding = "8px 20px";
    button.style.border = "none";
    button.style.borderRadius = "8px";
    button.style.backgroundColor = "#0078D7";
    button.style.color = "white";
    button.style.cursor = "pointer";
    button.onclick = () => {
      const val = input.value.trim().toLowerCase();
      if (val === q.answer.toLowerCase()) {
        result.innerHTML = "âœ… Great! Thatâ€™s right!";
        result.style.color = "green";
        score++;
      } else {
        result.innerHTML = "âŒ Not quite. The answer was '" + q.answer + "'";
        result.style.color = "red";
      }
    };
    optionsDiv.appendChild(input);
    optionsDiv.appendChild(button);
  }

  // reflection type
  if (q.type === "reflect" || q.reflection) {
    reflection.style.display = "block";
    submitRef.style.display = "inline-block";
    submitRef.onclick = () => {
      const text = reflection.value.trim();
      if (text.length > 5) {
        result.innerHTML = "ðŸ’­ Beautiful thought! Reflection saved.";
        result.style.color = "#009688";
      } else {
        result.innerHTML = "âœï¸ Write a bit more about your idea.";
        result.style.color = "red";
      }
    };
  }

  // audio type
  if (q.type === "audio") {
    audio.src = q.audio;
    audio.style.display = "block";
  }
}

function checkAnswer(i) {
  const q = questions[index];
  const result = document.getElementById("result");
  if (i === q.correct) {
    result.innerHTML = "ðŸŽ‰ Correct! Disney songs are about storytelling and emotion!";
    result.style.color = "green";
    score++;
  } else {
    result.innerHTML = "âŒ Not quite! The right answer was: " + q.options[q.correct];
    result.style.color = "red";
  }
  Array.from(document.getElementById("options").children).forEach(b => b.disabled = true);
}

function nextQuestion() {
  index++;
  if (index < questions.length) {
    showQuestion();
  } else {
    document.getElementById("game").innerHTML = `
      <h2>ðŸŽµ You finished the Disney Music Journey!</h2>
      <p style="font-size:1.2em;">Your score: ${score} / ${questions.length}</p>
      <p>âœ¨ Remember: Disney music teaches us that emotions, courage, and dreams sound better when sung from the heart.</p>
    `;
  }
}

showQuestion();
</script>

